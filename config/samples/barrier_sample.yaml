# Barrier Sample
# This example demonstrates a barrier that waits for 10 arrivals with a quorum of 8
apiVersion: sync.konductor.io/v1
kind: Barrier
metadata:
  name: stage-2
  namespace: default
spec:
  expected: 10
  timeout: 30m
  quorum: 8
  ttl: 1h
  onTimeout: fail
  onFailure: cleanup
---
# Arrival Sample
# This example demonstrates an arrival that signals completion to the barrier
apiVersion: sync.konductor.io/v1
kind: Arrival
metadata:
  name: stage-2-arrival-1
  namespace: default
  labels:
    barrier: stage-2
spec:
  barrier: stage-2
  holder: job-extract-1
  timeout: 5m
  ttl: 10m
  retryOnFailure: true
  maxRetries: 3