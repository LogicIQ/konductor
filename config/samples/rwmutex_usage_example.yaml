### Cache Coordination with RWMutex

```yaml
apiVersion: konductor.io/v1
kind: RWMutex
metadata:
  name: cache-lock
spec:
  ttl: 5m
---
apiVersion: batch/v1
kind: Job
metadata:
  name: cache-reader
spec:
  parallelism: 3
  template:
    spec:
      containers:
      - name: reader
        image: my-app:latest
        env:
        - name: POD_NAME
          valueFrom:
            fieldRef:
              fieldPath: metadata.name
        command:
        - /bin/sh
        - -c
        - |
          set -e
          if koncli rwmutex rlock cache-lock --holder $POD_NAME --timeout 30s; then
            trap 'koncli rwmutex unlock cache-lock --holder $POD_NAME || echo "Warning: Failed to unlock" >&2' EXIT
            read-from-cache
          else
            echo "Failed to acquire read lock" >&2
            exit 1
          fi
---
apiVersion: batch/v1
kind: Job
metadata:
  name: cache-writer
spec:
  template:
    spec:
      containers:
      - name: writer
        image: my-app:latest
        env:
        - name: POD_NAME
          valueFrom:
            fieldRef:
              fieldPath: metadata.name
        command:
        - /bin/sh
        - -c
        - |
          if koncli rwmutex lock cache-lock --holder $POD_NAME --timeout 1m; then
            update-cache
            koncli rwmutex unlock cache-lock --holder $POD_NAME
          fi
```
